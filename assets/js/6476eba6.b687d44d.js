"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[722],{60:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"usage","title":"Usage","description":"Zones","source":"@site/docs/usage.md","sourceDirName":".","slug":"/usage","permalink":"/QuickZone/docs/usage","draft":false,"unlisted":false,"editUrl":"https://github.com/LDgerrits/QuickZone/edit/main/docs/usage.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"defaultSidebar","previous":{"title":"Introduction","permalink":"/QuickZone/docs/intro"},"next":{"title":"Why use QuickZone?","permalink":"/QuickZone/docs/why-use-quickzone"}}');var s=a(4848),r=a(8453);const t={sidebar_position:2},o="Usage",l={},c=[{value:"Zones",id:"zones",level:2},{value:"Creation",id:"creation",level:3},{value:"Manual Creation",id:"manual-creation",level:3},{value:"Updating Zones",id:"updating-zones",level:3},{value:"Groups",id:"groups",level:2},{value:"Specialized Groups",id:"specialized-groups",level:3},{value:"Custom Groups",id:"custom-groups",level:3},{value:"Adding Entities",id:"adding-entities",level:3},{value:"Observers",id:"observers",level:2},{value:"Setup",id:"setup",level:3},{value:"Events",id:"events",level:3},{value:"Priority &amp; Resolution",id:"priority--resolution",level:3},{value:"Handling State",id:"handling-state",level:3},{value:"Utility",id:"utility",level:2},{value:"Frame Budget",id:"frame-budget",level:3},{value:"Spatial Queries",id:"spatial-queries",level:3},{value:"Debugging",id:"debugging",level:3},{value:"Considerations",id:"considerations",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"usage",children:"Usage"})}),"\n",(0,s.jsx)(n.h2,{id:"zones",children:"Zones"}),"\n",(0,s.jsx)(n.p,{children:"Zones represent physical areas in the world. They are mathematical boundaries that can be static (fixed in space) or dynamic (following a part). They can be created from existing parts or defined manually with a CFrame and Size."}),"\n",(0,s.jsx)(n.h3,{id:"creation",children:"Creation"}),"\n",(0,s.jsx)(n.p,{children:"The easiest way to create a zone."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Static Zone (Fastest)\n-- Ideal for shops, biomes, or permanent regions.\nlocal staticZone = QuickZone.ZoneFromPart(workspace.SafeZone)\n\n-- Dynamic Zone\n-- Passing 'true' makes the zone follow the part's CFrame on :update()\nlocal trainZone = QuickZone.ZoneFromPart(workspace.TrainCarriage, true)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"manual-creation",children:"Manual Creation"}),"\n",(0,s.jsx)(n.p,{children:"Useful for procedural generation or areas without physical parts."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local zone = QuickZone.Zone(\n    CFrame.new(0, 10, 0),       -- Position and rotation\n    Vector3.new(20, 20, 20),    -- Size\n    'Block',                    -- Shape: 'Block', 'Ball', 'Cylinder', or 'Wedge'\n    nil,                        -- No associated part\n    false                       -- Static (false) or dynamic (true)\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updating-zones",children:"Updating Zones"}),"\n",(0,s.jsxs)(n.p,{children:["If you create a zone manually or want to sync a dynamic zone to a new reference, use ",(0,s.jsx)(n.code,{children:":update()"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Manually move a zone\nzone:update(CFrame.new(0, 50, 0), Vector3.new(10, 10, 10))\n\n-- Sync a dynamic zone to its associated part\ndynamicZone:update()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"groups",children:"Groups"}),"\n",(0,s.jsx)(n.p,{children:"Groups are collections of entities (Parts, Models, Players, etc.) that you want to track. They allow you to categorize entities and set unique performance costs for each category."}),"\n",(0,s.jsx)(n.h3,{id:"specialized-groups",children:"Specialized Groups"}),"\n",(0,s.jsx)(n.p,{children:"QuickZone provides specialized groups that automatically handle player joining, leaving, and respawning."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Tracks all players in the server\nlocal allPlayers = QuickZone.PlayerGroup()\n\n-- Tracks only the local player (client-side only)\nlocal myPlayer = QuickZone.LocalPlayerGroup()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"custom-groups",children:"Custom Groups"}),"\n",(0,s.jsx)(n.p,{children:"For NPCs, projectiles, or vehicles, create a standard Group."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local projectiles = QuickZone.Group({\n    updateRate = 60,   -- Check every frame for high-speed objects\n    precision = 0,     -- Query every time it moves\n    safety = false     -- Fire callbacks immediately (faster but risky if you yield)\n})\n\nlocal idleNPCs = QuickZone.Group({\n    updateRate = 5,    -- Check only 5 times a second\n    precision = 2.0    -- Only query if the NPC moves more than 2 studs\n})\n"})}),"\n",(0,s.jsx)(n.h3,{id:"adding-entities",children:"Adding Entities"}),"\n",(0,s.jsx)(n.p,{children:"You can add BaseParts, Models, Attachments, Bones, or even tables with a Position."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Add a Model (tracks the PrimaryPart or Pivot)\nenemies:add(npcModel, { Team = 'Red' })\n\n-- Add a specific Attachment (tracks the exact point)\n-- This is great for offsets if you do not want to track the middle of a part (e.g. sword tip)\nenemies:add(sword.TipAttachment, { Damage = 75 })\n\n-- Add a table\nlocal spell = { Position = Vector3.new(10, 5, 0) }\nenemies:add(spell)\n\n-- Remove when done\nenemies:remove(npcModel)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.em,{children:["Note: The second argument (",(0,s.jsx)(n.code,{children:"customData"}),") is optional and will be passed to your event callbacks."]})}),"\n",(0,s.jsx)(n.h2,{id:"observers",children:"Observers"}),"\n",(0,s.jsx)(n.p,{children:"Observers are the 'brain' of QuickZone. They connect Groups to Zones."}),"\n",(0,s.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.p,{children:"An Observer listens to its subscribed Groups and checks if they overlap with its attached Zones."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local observer = QuickZone.Observer()\n\nobserver:subscribe(allPlayers) -- Who to watch\nhealingZone:attach(observer)   -- Where to watch\n"})}),"\n",(0,s.jsx)(n.h3,{id:"events",children:"Events"}),"\n",(0,s.jsx)(n.p,{children:"Events are defined on the Observer, not the Zone or Group. Events return a cleanup function. Calling this function is equivalent to 'disconnecting' the listener."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Fires when an entity enters a zone for this observer\nlocal disconnect = observer:onEntered(function(entity, zone, customData)\n    print(entity.Name .. " entered " .. zone:getId())\nend)\n\n-- Convenience Player wrappers\nobserver:onPlayerEntered(function(player, zone) ... end)\nobserver:onLocalPlayerEntered(function(zone) ... end)\nobserver:onPlayerExited(function(player, zone) ... end)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"priority--resolution",children:"Priority & Resolution"}),"\n",(0,s.jsx)(n.p,{children:"Observers use a priority system to handle overlapping zones. An entity 'belongs' to only one zone state per observer at a time when using priorities."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local lowPriority = QuickZone.Observer(0)\nlocal highPriority = QuickZone.Observer(10)\n\n-- If a player is inside Zone A (Low) and Zone B (High) simultaneously:\n-- 1. highPriority:onEntered() fires for Zone B.\n-- 2. lowPriority:onEntered() fires for Zone A.\n"})}),"\n",(0,s.jsx)(n.h3,{id:"handling-state",children:"Handling State"}),"\n",(0,s.jsx)(n.p,{children:"You can toggle an observer's activity state. This is useful for disabling triggers during cutscenes or rounds."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"observer:setEnabled(false) -- Fires 'onExited' for everyone inside\ntask.wait(5)\nobserver:setEnabled(true)  -- Fires 'onEntered' if they are still there\n"})}),"\n",(0,s.jsx)(n.h2,{id:"utility",children:"Utility"}),"\n",(0,s.jsx)(n.h3,{id:"frame-budget",children:"Frame Budget"}),"\n",(0,s.jsx)(n.p,{children:"QuickZone uses a scheduler to prevent lag. You can adjust how much time (in seconds) it is allowed to use per frame."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Allow 0.5 milliseconds per frame (default is 1ms)\nQuickZone:setFrameBudget(0.5/1000)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"spatial-queries",children:"Spatial Queries"}),"\n",(0,s.jsx)(n.p,{children:"Perform instant checks without using the Observer/Group pattern."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"-- Get all zones at a specific vector\nlocal zones = QuickZone:getZonesAtPoint(Vector3.new(10, 5, 0))\n\n-- Get the group an entity belongs to\nlocal group = QuickZone:getGroupOfEntity(workspace.Part)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"debugging",children:"Debugging"}),"\n",(0,s.jsx)(n.p,{children:"Enable the visualizer to see zone boundaries and whether they are used or not."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"QuickZone:visualize(true)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"considerations",children:"Considerations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Point-Based Tracking:"})," QuickZone tracks points (the center of a Part, the Attachment's position, etc.), not the volume of the part itself."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Attachments:"})," If you need to track a specific part of a character, add an ",(0,s.jsx)(n.code,{children:"Attachment"})," to that part and track the Attachment."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scheduling:"})," To maintain high FPS, QuickZone uses ",(0,s.jsx)(n.code,{children:"workload smearing"})," and a frame budget. As a consequence, an entity entering a zone might be detected a few frames later if thousands of calculations are queued."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>o});var i=a(6540);const s={},r=i.createContext(s);function t(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);